隊名：創創最牛啤
題目：LLM與數位雙生在商場節能的應用

## 1. 變數值

| 大單位用電                  |                                    |
| ---------------------- | ---------------------------------- |
| 大樓整體當月用電量              | building_power(float)              |
| 2024年林百貨每個月用電量，用list去存 | `building_power_2024[6](float[])`  |
| 大樓整體下個月用電量             | building_power_next(float)         |
| 整體用電趨勢(bool)           | power_trend => True: 上升, False: 下降 |
| 提醒即將高峰用電時段(bool，觸發)    | peak_power(bool)                   |


| 大單位用水                  |                                    |
| ---------------------- | ---------------------------------- |
| 大樓整體當月用電量              | building_power(float)              |
| 2024年林百貨每個月用水量，用list去存 | `building_water_2024[6]`           |
|                        |                                    |
| 預測                     |                                    |
| 大樓整體下個月用水量             | building_water_next(float)         |
| 整體用水趨勢(bool)           | water_trend => True: 上升, False: 下降 |
| 提醒即將高峰用水時段(bool，觸發)    | peak_water                         |

| 大單位其他   |                                |
| ------- | ------------------------------ |
| 大建築的LLM | building_assistant_msg(string) |



| 小單位用電       | (共會有三間)               |
| ----------- | --------------------- |
| 小辦公室01當月用電量 | office01_power(float) |
| 小辦公室02當月用電量 | office02_power(float) |
| 小辦公室03當月用電量 | office03_power(float) |
|             |                       |



| 小單位用水       | (共會有三間)               |
| ----------- | --------------------- |
| 小辦公室01當月用電量 | office01_water(float) |
| 小辦公室02當月用電量 | office02_water(float) |
| 小辦公室03當月用電量 | office03_water(float) |


| 小單位其他 | 小建築的LLM                        | 氣體                  | 光感                  | 溫度                          | 濕度                           |
| ----- | ------------------------------ | ------------------- | ------------------- | --------------------------- | ---------------------------- |
|       | office01_assistant_msg(string) | office01_air(float) | office01_light(int) | office01_temperature(float) | office01_humidity(int 0~100) |
|       | office02_assistant_msg(string) | office02_airfloat)  | office02_light(int) | office02_temperature(float) | office02_humidity(int 0~100) |
|       | office03_assistant_msg(string) | office03_airfloat)  | office03_light(int) | office03_temperature(float) | office03_humidity(int 0~100) |
|       | 鏡頭辨別人數                         |                     |                     |                             |                              |
|       | office01_human(int)            |                     |                     |                             |                              |
|       | office02_human(int)            |                     |                     |                             |                              |
|       | office03_human(int)            |                     |                     |                             |                              |



## 2. 數位雙生畫面呈現

![upgit_20250307_1741343524.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2025/03/upgit_20250307_1741343524.png)

## 3. 給AI組的建議

- **異常檢測與即時警報** ：
- 除了預測未來水電用量，AI 模型可以在開發板上執行異常檢測。例如，當某個辦公室的用電量突然飆升 (如比歷史平均值高出 30%)，系統可以即時發出警報，提醒管理者檢查是否有設備故障 (如冷氣未關、漏電) 或異常使用行為。  
> 威仁：假設說，用燈泡平常電量 * 10倍的值突然跑出來

  - **實現方式**：在 LSTM 模型中加入異常檢測模組，使用統計方法 (如 Z-score) 或機器學習方法 (如孤立森林 Isolation Forest) 來識別異常值。
  - **數據應用**：利用計畫書中的即時數據 (如 `office01_power`, `office01_water`)，與歷史數據 (`building_power_2024`, `building_water_2024`) 進行比較。




- **多維影響因素預測**  
  除了時間序列數據 (如歷史水電用量)，可以將更多環境變數納入預測模型，例如：
  - 溫濕度 (`office0X_temperature`, `office0X_humidity`)：高溫可能導致冷氣用電增加。
  - 人流密度 (`office0X_human`)：人數多時，用水量 (如洗手間使用) 和用電量 (如照明、空調) 可能上升。
  - 光照度 (`office0X_light`)：光照不足時，照明用電可能增加。
> 維誠：我這邊就先寫說，在辦公室內會以「溫溼度、光照度、人流等因素納入多維影響因素預測」


### 3.1. LLM 個人助手：增加互動性與行為誘導
> 維誠：下面這是GPT寫的，看看就好

目前 LLM 個人助手的功能是根據環境數據生成節能建議，並通過表情符號提供回饋 (如草圖中的笑臉)。這已經是一個很好的設計，但可以進一步增加互動性和行為誘導功能，讓 LLM 更具吸引力。

- **情境化對話與個性化建議**  
  讓 LLM 根據不同辦公室的具體情況生成更具情境化的建議，並考慮使用者的行為模式。例如：
  - 若 `office01_power` 持續高於平均值，且 `office01_human` 顯示人數較少，LLM 可以說：「您的辦公室目前用電量高於平均值，但人數較少，是否忘記關閉冷氣？建議調整至 27°C，可節省 10% 電力。」
  - 若 `office02_water` 突然增加，且 `office02_humidity` 上升，LLM 可以說：「您的用水量突然增加，同時濕度上升，可能是水龍頭未關好，建議檢查一下。」
  - **實現方式**：利用計畫書中的多維數據 (`office0X_air`, `office0X_temperature`, `office0X_humidity`, `office0X_human`)，讓 LLM 根據這些數據生成更具體的建議。可以使用條件邏輯 (if-then-else) 或規則引擎來增強 LLM 的決策能力。
  - **好處**：建議更貼近實際場景，提升使用者的接受度。

- **遊戲化與獎勵機制**  
  結合輕推理論，增加遊戲化元素，讓節能行為更有趣。例如：
  - 每個辦公室有一個「節能積分」系統，根據節能表現 (如用電量低於目標 10%) 獲得積分，積分可以用來兌換獎勵 (如商場優惠券)。
  - LLM 可以根據積分給予不同表情回饋：節能表現好時顯示「😊 太棒了！您本週節省了 15% 電力！」，表現不佳時顯示「😓 您的用電量高於平均值，試試降低冷氣溫度吧！」。
  - **實現方式**：在 LLM 中加入一個積分計算模組，根據用電/用水數據 (`office0X_power`, `office0X_water`) 計算積分，並通過 MQTT 傳送到數位雙生平台進行視覺化展示。
  - **好處**：增加使用者的參與感和競爭心理，促進長期節能行為。

- **語音互動與多語言支持**  
  讓 LLM 個人助手支持語音互動，並提供多語言選項，適應商場內不同背景的使用者。例如，管理者可以用語音問：「今天哪個辦公室用電量最高？」LLM 回應：「辦公室 03 的用電量最高，建議檢查照明設備。」  
  - **實現方式**：在 FRDM-IMX93 上整合語音識別模組 (如使用開源的語音識別庫)，並讓 LLM 支持多語言生成 (如中文、英文)。
  - **好處**：提升系統的易用性，特別適合非技術背景的使用者。





## 4. 講稿

### 4.1. Page02

我們的出發點是基於全球暖化
我們每天經過的商場、百貨公司，是不是燈永遠開著、冷氣永遠很強，甚至水龍頭有時候還在滴水？
這些地方，其實是超級高耗能的場域。但很弔詭的是：傳統節能方案幾乎在這些場域「推不動」。

(世界氣象組織, World Meteorological Organizatio)
而根據WMO資料，到 2027 年，地球有 66% 的機率會突破 +1.5°C 的升溫臨界點，這不是新聞標題，而是很有可能發生在我們眼前的事。

而商場本身就佔了 全球建築用能的 20%，一年用水上看 1,000 萬公升，然而現行的節能系統，主要缺點都是在建置與維護成本過高的部分

因此，我們想提出的是「節能這件事，能不能不是靠硬體，而是從『人』開始改變？」
我這邊有些一句話：「科技雖有效，但昂貴又難維護。使用者行為才是能源使用的關鍵因素：不靠強制，而是潛移默化的引導策略」

### 4.2. Page03
然而，改變習慣不是一件容易的事
就像是我們要學生收手機，或是我們要【QQQQQQ】
我們不是從「控制」出發，而是從「行為誘因」出發，也就是心理學裡說的 Nudge（輕推理論）。
我們要讓使用者在無壓力的狀態下逐步改變行為

這邊舉三個例子來說：
像是排行榜，我們人類就是看到有人超過我就想贏他
還有預設值 —— 就像很多人不是故意浪費水，而是根本沒意識到那是浪費。
	那我們可以透過預設模式去驅使他改變
即時回饋 —— 我一看到燈沒關，它馬上提醒我，這會提高反應力。

那我們的提案是使用了兩個模型：
一種是 LSTM，負責做預測
另一種是LLM，跟據預測去進行自然語言生成

### 4.3. Page04
我們的整套系統架構由四層關鍵模組組成的

(講林百貨，左下角得圖)
我們以台南這邊的建築物(林百貨)為例

### 4.4. Page05
取水層的話
感測器是使用YF-S201 水流量感測器，他主要是以脈波計數方式量測每秒水流速率
這邊使用的是NUCLEO-U083RC，主要是跑即時資料讀取跟基本邏輯運算
我們目前是有裝一塊LCD顯示，也先使用ESP8266的D1 mini來做為做wifi傳輸

### 4.5. Page06
取電層的話
使用的感測器是INA226，責即時偵測電壓與電流，然後自己算出目前的功率
開發版依樣是NUCLEO-U083RC
也是接一塊LCD

### 4.6. page07
LSTM 是一種時間序列神經網路模型，非常適合處理像水電這種「會變動、有波動、有季節性」的資料。
這邊是在NXP的FRID-IMX93這塊去跑
我們的模型輸入包括兩類資料：
1️⃣ NUCLEO即時擷取的用水 / 用電數據
2️⃣ 我們自己額外整理的歷史資料（從2023/08）開始

我們用這個模型來做三件事：
📊 第一，預測大樓接下來一週或一個月的水電需求走勢
⚡ 第二，預警可能出現的高峰時段，例如哪天中午可能爆電量
📉 第三，判斷目前用能是正常波動，還是異常偏高


### 4.7. page08
而LSTM進行時間預測後，會透過LLM，幫我們把冷冰冰的感測資料，轉成一句句貼近使用者生活的建議。
這邊要提一下，我們的模擬有分為大建築跟小建築
取水取電都有分為大建築跟小建築
除此之外，大建築還有包含
🌡️ 溫濕度感測（DHT22）——判斷是否開冷氣過度
💡 光照感測 —— 判斷現在是否其實不用開燈
🧑‍🤝‍🧑 webcam + 人流偵測 —— 判斷區域內有沒有人，判斷照明與冷氣是否該開
🌫️ 氣體感測 —— 未來可擴展至空氣品質節能建議

### 4.8. page09
在數位雙生層的話
這邊是我們已經做好的畫面
我們要讓讓能耗行為「具象化」，不只讓你看到數據，而是能「看見哪裡在浪費，誰在用得太兇」。

【講基本畫面】
【LLM部分】

像這樣的一個建置，是可以作為多種情況使用的
- 像是教師可以用它做能源素養課程
- 可做為展場
- 管理單位可以用它做行為回饋訓練

### 4.9. page10

接下來是評估效益的部分
林百貨他是被定義在中型商場(這邊能不能給隔分類依據)

我們系統整合了：
即時感測 → 找出異常用電
AI 模型 → 預測高峰與浪費
行為誘因 → 減少不必要照明與冷氣使用
這些機制加起來，我們保守估計可節電 15–20%

一般中型商場一年用電量約為 36 萬度電，依照目前商業用電每度 3 元來算，每年電費約 108 萬元。
也就是一年大概能省下 16.2 到 21.6 萬元的電費。


一般冷卻與清潔系統的年用水大約是 800–1000 萬公升，
水價包含處理成本，大約是每立方米 12 元，年水費約 96–120 萬元。
我們保守估算節水率為 10–12%。
也就是一年約可省水費 10–14 萬元。

### 4.10. page11
最後，在未來修改方向上
我們的提案可以往碳足跡估算模組去進行
UNEP 在 2022 年報告就指出：「建築碳排報告，已成為碳中和政策的入門門檻」。
可以直接對接碳權交易平台或政府補助申報平台。

第二種方向是ESG 自動回報模組（企業 / 學校適用）

像是
- 每日節電、節水成效
- 行為改變率（有多少人改變行為）
- 使用者採納 LLM 建議的比率
符合ESG永續報告得一個框架

或是做為 學校端、企業端、政府端的一個展示教材
























